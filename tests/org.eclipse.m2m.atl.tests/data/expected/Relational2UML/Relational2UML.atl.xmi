<?xml version="1.0" encoding="ASCII"?>
<atl:Module xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL" location="4:1-94:2" name="Relational2UML2">
  <commentsBefore>-- @nsURI UML=http://www.eclipse.org/uml2/2.1.0/UML</commentsBefore>
  <commentsBefore>-- @path Relational=/org.eclipse.m2m.atl.tests/data/inputs/Relational2UML/relational.ecore</commentsBefore>
  <inModels location="5:23-5:38" name="IN">
    <metamodel href="new-model#/1"/>
  </inModels>
  <inModels location="5:40-5:49" name="PRO">
    <metamodel href="new-model#/0"/>
  </inModels>
  <outModels location="5:8-5:17" name="OUT">
    <metamodel href="new-model#/0"/>
  </outModels>
  <elements xsi:type="atl:Helper" location="11:1-11:60">
    <commentsBefore>-------------------------------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-- HELPERS --------------------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-------------------------------------------------------------------------------------------</commentsBefore>
    <definition location="11:8-11:59">
      <feature xsi:type="ocl:Attribute" location="11:14-11:59" name="stringType">
        <initExpression xsi:type="ocl:OclUndefinedExp" location="11:47-11:59"/>
        <type xsi:type="ocl:OclModelElement" location="11:27-11:44" name="PrimitiveType">
          <model href="new-model#/0"/>
        </type>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="12:1-12:61">
    <definition location="12:8-12:60">
      <feature xsi:type="ocl:Attribute" location="12:14-12:60" name="integerType">
        <initExpression xsi:type="ocl:OclUndefinedExp" location="12:48-12:60"/>
        <type xsi:type="ocl:OclModelElement" location="12:28-12:45" name="PrimitiveType">
          <model href="new-model#/0"/>
        </type>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="14:1-23:8">
    <definition location="14:8-23:7">
      <feature xsi:type="ocl:Operation" location="14:40-23:7" name="computeType">
        <returnType xsi:type="ocl:OclModelElement" location="14:56-14:73" name="PrimitiveType">
          <model href="new-model#/0"/>
        </returnType>
        <body xsi:type="ocl:IfExp" location="15:2-23:7">
          <thenExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="16:3-16:24" name="stringType">
            <source xsi:type="ocl:VariableExp" location="16:3-16:13">
              <referredVariable href="new-model#/3"/>
            </source>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="15:5-15:25" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:5-15:14" name="type">
              <source xsi:type="ocl:VariableExp" location="15:5-15:9">
                <referredVariable href="new-model#/2"/>
              </source>
            </source>
            <arguments xsi:type="ocl:EnumLiteralExp" location="15:17-15:25" name="VARCHAR"/>
          </condition>
          <elseExpression xsi:type="ocl:IfExp" location="18:3-22:8">
            <thenExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="19:4-19:26" name="integerType">
              <source xsi:type="ocl:VariableExp" location="19:4-19:14">
                <referredVariable href="new-model#/5"/>
              </source>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="18:6-18:26" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="18:6-18:15" name="type">
                <source xsi:type="ocl:VariableExp" location="18:6-18:10">
                  <referredVariable href="new-model#/4"/>
                </source>
              </source>
              <arguments xsi:type="ocl:EnumLiteralExp" location="18:18-18:26" name="NUMERIC"/>
            </condition>
            <elseExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="21:7-21:29" name="integerType">
              <source xsi:type="ocl:VariableExp" location="21:7-21:17">
                <referredVariable href="new-model#/6"/>
              </source>
            </elseExpression>
          </elseExpression>
        </body>
      </feature>
      <context_ location="14:8-14:33">
        <context_ xsi:type="ocl:OclModelElement" location="14:16-14:33" name="Column">
          <model href="new-model#/1"/>
        </context_>
      </context_>
    </definition>
  </elements>
  <elements xsi:type="atl:Helper" location="25:1-26:80">
    <commentsAfter>-------------------------------------------------------------------------------------------</commentsAfter>
    <commentsAfter>-- RULES ----------------------------------------------------------------------------------</commentsAfter>
    <commentsAfter>-------------------------------------------------------------------------------------------</commentsAfter>
    <definition location="25:8-26:79">
      <feature xsi:type="ocl:Operation" location="25:14-26:79" name="getStereotype">
        <parameters location="25:28-25:41" varName="name" variableExp="//@elements.3/@definition/@feature/@body/@source/@body/@arguments.0">
          <type xsi:type="ocl:StringType" location="25:35-25:41"/>
        </parameters>
        <returnType xsi:type="ocl:OclModelElement" location="25:45-25:59" name="Stereotype">
          <model href="new-model#/0"/>
        </returnType>
        <body xsi:type="ocl:CollectionOperationCallExp" location="26:5-26:79" operationName="first">
          <source xsi:type="ocl:IteratorExp" location="26:5-26:70" name="select">
            <source xsi:type="ocl:OperationCallExp" location="26:5-26:43" operationName="allInstancesFrom">
              <source xsi:type="ocl:OclModelElement" location="26:5-26:19" name="Stereotype">
                <model href="new-model#/0"/>
              </source>
              <arguments xsi:type="ocl:StringExp" location="26:37-26:42" stringSymbol="PRO"/>
            </source>
            <body xsi:type="ocl:OperatorCallExp" location="26:56-26:69" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="26:56-26:62" name="name">
                <source xsi:type="ocl:VariableExp" location="26:56-26:57" referredVariable="//@elements.3/@definition/@feature/@body/@source/@iterators.0"/>
              </source>
              <arguments xsi:type="ocl:VariableExp" location="26:65-26:69" referredVariable="//@elements.3/@definition/@feature/@parameters.0"/>
            </body>
            <iterators location="26:52-26:53" varName="p" variableExp="//@elements.3/@definition/@feature/@body/@source/@body/@source/@source"/>
          </source>
        </body>
      </feature>
    </definition>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="32:1-53:2" name="Database2Model">
    <commentsBefore>-------------------------------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-- RULES ----------------------------------------------------------------------------------</commentsBefore>
    <commentsBefore>-------------------------------------------------------------------------------------------</commentsBefore>
    <outPattern location="35:2-45:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="36:3-39:4" varName="out" variableExp="//@elements.4/@actionBlock/@statements.2/@expression/@source //@elements.4/@actionBlock/@statements.3/@expression/@source">
        <type xsi:type="ocl:OclModelElement" location="36:9-36:18" name="Model">
          <model href="new-model#/0"/>
        </type>
        <bindings location="37:4-37:18" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="37:12-37:18" name="name">
            <source xsi:type="ocl:VariableExp" location="37:12-37:13" referredVariable="//@elements.4/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="38:4-38:75" propertyName="packagedElement">
          <value xsi:type="ocl:CollectionOperationCallExp" location="38:23-38:75" operationName="flatten">
            <source xsi:type="ocl:SequenceExp" location="38:23-38:62">
              <elements xsi:type="ocl:NavigationOrAttributeCallExp" location="38:32-38:46" name="ownedSchemas">
                <source xsi:type="ocl:VariableExp" location="38:32-38:33" referredVariable="//@elements.4/@inPattern/@elements.0"/>
              </elements>
              <elements xsi:type="ocl:VariableExp" location="38:47-38:54" referredVariable="//@elements.4/@outPattern/@elements.1"/>
              <elements xsi:type="ocl:VariableExp" location="38:55-38:61" referredVariable="//@elements.4/@outPattern/@elements.2"/>
            </source>
          </value>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="40:3-42:4" varName="integer" variableExp="//@elements.4/@outPattern/@elements.0/@bindings.1/@value/@source/@elements.1 //@elements.4/@actionBlock/@statements.1/@value">
        <type xsi:type="ocl:OclModelElement" location="40:13-40:30" name="PrimitiveType">
          <model href="new-model#/0"/>
        </type>
        <bindings location="41:4-41:21" propertyName="name">
          <value xsi:type="ocl:StringExp" location="41:12-41:21" stringSymbol="Integer"/>
        </bindings>
      </elements>
      <elements xsi:type="atl:SimpleOutPatternElement" location="43:3-45:4" varName="string" variableExp="//@elements.4/@outPattern/@elements.0/@bindings.1/@value/@source/@elements.2 //@elements.4/@actionBlock/@statements.0/@value">
        <type xsi:type="ocl:OclModelElement" location="43:12-43:29" name="PrimitiveType">
          <model href="new-model#/0"/>
        </type>
        <bindings location="44:4-44:20" propertyName="name">
          <value xsi:type="ocl:StringExp" location="44:12-44:20" stringSymbol="String"/>
        </bindings>
      </elements>
    </outPattern>
    <actionBlock location="46:2-52:3">
      <statements xsi:type="atl:BindingStat" location="47:3-47:35">
        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="47:3-47:24" name="stringType">
          <source xsi:type="ocl:VariableExp" location="47:3-47:13">
            <referredVariable href="new-model#/7"/>
          </source>
        </source>
        <value xsi:type="ocl:VariableExp" location="47:28-47:34" referredVariable="//@elements.4/@outPattern/@elements.2"/>
      </statements>
      <statements xsi:type="atl:BindingStat" location="48:6-48:40">
        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="48:6-48:28" name="integerType">
          <source xsi:type="ocl:VariableExp" location="48:6-48:16">
            <referredVariable href="new-model#/8"/>
          </source>
        </source>
        <value xsi:type="ocl:VariableExp" location="48:32-48:39" referredVariable="//@elements.4/@outPattern/@elements.1"/>
      </statements>
      <statements xsi:type="atl:ExpressionStat" location="50:6-50:104">
        <expression xsi:type="ocl:OperationCallExp" location="50:6-50:103" operationName="applyProfile">
          <source xsi:type="ocl:VariableExp" location="50:6-50:9" referredVariable="//@elements.4/@outPattern/@elements.0"/>
          <arguments xsi:type="ocl:CollectionOperationCallExp" location="50:23-50:102" operationName="first">
            <source xsi:type="ocl:IteratorExp" location="50:23-50:93" name="select">
              <source xsi:type="ocl:OperationCallExp" location="50:23-50:58" operationName="allInstancesFrom">
                <source xsi:type="ocl:OclModelElement" location="50:23-50:34" name="Profile">
                  <model href="new-model#/0"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="50:52-50:57" stringSymbol="PRO"/>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="50:71-50:92" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="50:71-50:77" name="name">
                  <source xsi:type="ocl:VariableExp" location="50:71-50:72" referredVariable="//@elements.4/@actionBlock/@statements.2/@expression/@arguments.0/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="50:80-50:92" stringSymbol="relational"/>
              </body>
              <iterators location="50:67-50:68" varName="p" variableExp="//@elements.4/@actionBlock/@statements.2/@expression/@arguments.0/@source/@body/@source/@source"/>
            </source>
          </arguments>
        </expression>
      </statements>
      <statements xsi:type="atl:ExpressionStat" location="51:6-51:64">
        <expression xsi:type="ocl:OperationCallExp" location="51:6-51:63" operationName="applyStereotype">
          <source xsi:type="ocl:VariableExp" location="51:6-51:9" referredVariable="//@elements.4/@outPattern/@elements.0"/>
          <arguments xsi:type="ocl:OperationCallExp" location="51:26-51:62" operationName="getStereotype">
            <source xsi:type="ocl:VariableExp" location="51:26-51:36">
              <referredVariable href="new-model#/9"/>
            </source>
            <arguments xsi:type="ocl:StringExp" location="51:51-51:61" stringSymbol="Database"/>
          </arguments>
        </expression>
      </statements>
    </actionBlock>
    <inPattern location="33:2-34:26">
      <elements xsi:type="atl:SimpleInPatternElement" location="34:3-34:26" varName="d" variableExp="//@elements.4/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.4/@outPattern/@elements.0/@bindings.1/@value/@source/@elements.0/@source">
        <type xsi:type="ocl:OclModelElement" location="34:7-34:26" name="Database">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="55:1-66:2" name="Schema2Package">
    <outPattern location="58:2-62:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="59:3-62:4" varName="out" variableExp="//@elements.5/@actionBlock/@statements.0/@expression/@source">
        <type xsi:type="ocl:OclModelElement" location="59:9-59:20" name="Package">
          <model href="new-model#/0"/>
        </type>
        <bindings location="60:4-60:18" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="60:12-60:18" name="name">
            <source xsi:type="ocl:VariableExp" location="60:12-60:13" referredVariable="//@elements.5/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="61:4-61:36" propertyName="packagedElement">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="61:23-61:36" name="ownedTables">
            <source xsi:type="ocl:VariableExp" location="61:23-61:24" referredVariable="//@elements.5/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <actionBlock location="63:2-65:3">
      <statements xsi:type="atl:ExpressionStat" location="64:4-64:60">
        <expression xsi:type="ocl:OperationCallExp" location="64:4-64:59" operationName="applyStereotype">
          <source xsi:type="ocl:VariableExp" location="64:4-64:7" referredVariable="//@elements.5/@outPattern/@elements.0"/>
          <arguments xsi:type="ocl:OperationCallExp" location="64:24-64:58" operationName="getStereotype">
            <source xsi:type="ocl:VariableExp" location="64:24-64:34">
              <referredVariable href="new-model#/10"/>
            </source>
            <arguments xsi:type="ocl:StringExp" location="64:49-64:57" stringSymbol="Schema"/>
          </arguments>
        </expression>
      </statements>
    </actionBlock>
    <inPattern location="56:2-57:24">
      <elements xsi:type="atl:SimpleInPatternElement" location="57:3-57:24" varName="s" variableExp="//@elements.5/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.5/@outPattern/@elements.0/@bindings.1/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="57:7-57:24" name="Schema">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="68:1-79:2" name="Table2Class">
    <outPattern location="71:2-75:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="72:3-75:4" varName="out" variableExp="//@elements.6/@actionBlock/@statements.0/@expression/@source">
        <type xsi:type="ocl:OclModelElement" location="72:9-72:18" name="Class">
          <model href="new-model#/0"/>
        </type>
        <bindings location="73:4-73:18" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="73:12-73:18" name="name">
            <source xsi:type="ocl:VariableExp" location="73:12-73:13" referredVariable="//@elements.6/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="74:4-74:36" propertyName="ownedAttribute">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="74:22-74:36" name="ownedColumns">
            <source xsi:type="ocl:VariableExp" location="74:22-74:23" referredVariable="//@elements.6/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <actionBlock location="76:2-78:3">
      <statements xsi:type="atl:ExpressionStat" location="77:5-77:60">
        <expression xsi:type="ocl:OperationCallExp" location="77:5-77:59" operationName="applyStereotype">
          <source xsi:type="ocl:VariableExp" location="77:5-77:8" referredVariable="//@elements.6/@outPattern/@elements.0"/>
          <arguments xsi:type="ocl:OperationCallExp" location="77:25-77:58" operationName="getStereotype">
            <source xsi:type="ocl:VariableExp" location="77:25-77:35">
              <referredVariable href="new-model#/11"/>
            </source>
            <arguments xsi:type="ocl:StringExp" location="77:50-77:57" stringSymbol="Table"/>
          </arguments>
        </expression>
      </statements>
    </actionBlock>
    <inPattern location="69:2-70:23">
      <elements xsi:type="atl:SimpleInPatternElement" location="70:3-70:23" varName="t" variableExp="//@elements.6/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.6/@outPattern/@elements.0/@bindings.1/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="70:7-70:23" name="Table">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
  <elements xsi:type="atl:MatchedRule" location="82:1-94:2" name="Column2Property">
    <outPattern location="85:2-90:4">
      <elements xsi:type="atl:SimpleOutPatternElement" location="86:3-90:4" varName="out" variableExp="//@elements.7/@actionBlock/@statements.0/@expression/@source">
        <type xsi:type="ocl:OclModelElement" location="86:9-86:21" name="Property">
          <model href="new-model#/0"/>
        </type>
        <bindings location="87:4-87:18" propertyName="name">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="87:12-87:18" name="name">
            <source xsi:type="ocl:VariableExp" location="87:12-87:13" referredVariable="//@elements.7/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="88:4-88:26" propertyName="isUnique">
          <value xsi:type="ocl:NavigationOrAttributeCallExp" location="88:16-88:26" name="isUnique">
            <source xsi:type="ocl:VariableExp" location="88:16-88:17" referredVariable="//@elements.7/@inPattern/@elements.0"/>
          </value>
        </bindings>
        <bindings location="89:4-89:27" propertyName="type">
          <value xsi:type="ocl:OperationCallExp" location="89:12-89:27" operationName="computeType">
            <source xsi:type="ocl:VariableExp" location="89:12-89:13" referredVariable="//@elements.7/@inPattern/@elements.0"/>
          </value>
        </bindings>
      </elements>
    </outPattern>
    <actionBlock location="91:2-93:3">
      <statements xsi:type="atl:ExpressionStat" location="92:5-92:61">
        <expression xsi:type="ocl:OperationCallExp" location="92:5-92:60" operationName="applyStereotype">
          <source xsi:type="ocl:VariableExp" location="92:5-92:8" referredVariable="//@elements.7/@outPattern/@elements.0"/>
          <arguments xsi:type="ocl:OperationCallExp" location="92:25-92:59" operationName="getStereotype">
            <source xsi:type="ocl:VariableExp" location="92:25-92:35">
              <referredVariable href="new-model#/12"/>
            </source>
            <arguments xsi:type="ocl:StringExp" location="92:50-92:58" stringSymbol="Column"/>
          </arguments>
        </expression>
      </statements>
    </actionBlock>
    <inPattern location="83:2-84:24">
      <elements xsi:type="atl:SimpleInPatternElement" location="84:3-84:24" varName="p" variableExp="//@elements.7/@outPattern/@elements.0/@bindings.0/@value/@source //@elements.7/@outPattern/@elements.0/@bindings.1/@value/@source //@elements.7/@outPattern/@elements.0/@bindings.2/@value/@source">
        <type xsi:type="ocl:OclModelElement" location="84:7-84:24" name="Column">
          <model href="new-model#/1"/>
        </type>
      </elements>
    </inPattern>
  </elements>
</atl:Module>
